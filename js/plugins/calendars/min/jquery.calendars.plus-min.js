!function($){$.extend($.calendars.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),$.calendars.local=$.calendars.regionalOptions[""],$.extend($.calendars.cdate.prototype,{formatDate:function(a){return this._calendar.formatDate(a||"",this)}}),$.extend($.calendars.baseCalendar.prototype,{UNIX_EPOCH:$.calendars.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:86400,TICKS_EPOCH:$.calendars.instance().jdEpoch,TICKS_PER_DAY:864e9,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(a,e,t){if("string"!=typeof a&&(t=e,e=a,a=""),!e)return"";if(e.calendar()!==this)throw $.calendars.local.invalidFormat||$.calendars.regionalOptions[""].invalidFormat;a=a||this.local.dateFormat,t=t||{};for(var r=t.dayNamesShort||this.local.dayNamesShort,n=t.dayNames||this.local.dayNames,o=t.monthNamesShort||this.local.monthNamesShort,s=t.monthNames||this.local.monthNames,i=t.calculateWeek||this.local.calculateWeek,c=function(e,t){for(var r=1;m+r<a.length&&a.charAt(m+r)===e;)r++;return m+=r-1,Math.floor(r/(t||1))>1},l=function(a,e,t,r){var n=""+e;if(c(a,r))for(;n.length<t;)n="0"+n;return n},d=function(a,e,t,r){return c(a)?r[e]:t[e]},h="",y=!1,m=0;m<a.length;m++)if(y)"'"!==a.charAt(m)||c("'")?h+=a.charAt(m):y=!1;else switch(a.charAt(m)){case"d":h+=l("d",e.day(),2);break;case"D":h+=d("D",e.dayOfWeek(),r,n);break;case"o":h+=l("o",e.dayOfYear(),3);break;case"w":h+=l("w",e.weekOfYear(),2);break;case"m":h+=l("m",e.month(),2);break;case"M":h+=d("M",e.month()-this.minMonth,o,s);break;case"y":h+=c("y",2)?e.year():(e.year()%100<10?"0":"")+e.year()%100;break;case"Y":c("Y",2),h+=e.formatYear();break;case"J":h+=e.toJD();break;case"@":h+=(e.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":h+=(e.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":c("'")?h+="'":y=!0;break;default:h+=a.charAt(m)}return h},parseDate:function(a,e,t){if(null==e)throw $.calendars.local.invalidArguments||$.calendars.regionalOptions[""].invalidArguments;if(e="object"==typeof e?e.toString():e+"",""===e)return null;a=a||this.local.dateFormat,t=t||{};var r=t.shortYearCutoff||this.shortYearCutoff;r="string"!=typeof r?r:this.today().year()%100+parseInt(r,10);for(var n=t.dayNamesShort||this.local.dayNamesShort,o=t.dayNames||this.local.dayNames,s=t.monthNamesShort||this.local.monthNamesShort,i=t.monthNames||this.local.monthNames,c=-1,l=-1,d=-1,h=-1,y=-1,m=!1,u=!1,f=function(e,t){for(var r=1;A+r<a.length&&a.charAt(A+r)===e;)r++;return A+=r-1,Math.floor(r/(t||1))>1},p=function(a,t){var r=f(a,t),n=[2,3,r?4:2,r?4:2,10,11,20]["oyYJ@!".indexOf(a)+1],o=new RegExp("^-?\\d{1,"+n+"}"),s=e.substring(k).match(o);if(!s)throw($.calendars.local.missingNumberAt||$.calendars.regionalOptions[""].missingNumberAt).replace(/\{0\}/,k);return k+=s[0].length,parseInt(s[0],10)},D=this,b=function(a,t,r,n){for(var o=f(a,n)?r:t,s=0;s<o.length;s++)if(e.substr(k,o[s].length).toLowerCase()===o[s].toLowerCase())return k+=o[s].length,s+D.minMonth;throw($.calendars.local.unknownNameAt||$.calendars.regionalOptions[""].unknownNameAt).replace(/\{0\}/,k)},g=function(){if(e.charAt(k)!==a.charAt(A))throw($.calendars.local.unexpectedLiteralAt||$.calendars.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,k);k++},k=0,A=0;A<a.length;A++)if(u)"'"!==a.charAt(A)||f("'")?g():u=!1;else switch(a.charAt(A)){case"d":h=p("d");break;case"D":b("D",n,o);break;case"o":y=p("o");break;case"w":p("w");break;case"m":d=p("m");break;case"M":d=b("M",s,i);break;case"y":var C=A;m=!f("y",2),A=C,l=p("y",2);break;case"Y":l=p("Y",2);break;case"J":c=p("J")+.5,"."===e.charAt(k)&&(k++,p("J"));break;case"@":c=p("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":c=p("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":k=e.length;break;case"'":f("'")?g():u=!0;break;default:g()}if(k<e.length)throw $.calendars.local.unexpectedText||$.calendars.regionalOptions[""].unexpectedText;if(-1===l?l=this.today().year():100>l&&m&&(l+=-1===r?1900:this.today().year()-this.today().year()%100-(r>=l?0:100)),y>-1){d=1,h=y;for(var N=this.daysInMonth(l,d);h>N;N=this.daysInMonth(l,d))d++,h-=N}return c>-1?this.fromJD(c):this.newDate(l,d,h)},determineDate:function(a,e,t,r,n){t&&"object"!=typeof t&&(n=r,r=t,t=null),"string"!=typeof r&&(n=r,r="");var o=this,s=function(a){try{return o.parseDate(r,a,n)}catch(e){}a=a.toLowerCase();for(var s=(a.match(/^c/)&&t?t.newDate():null)||o.today(),i=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,c=i.exec(a);c;)s.add(parseInt(c[1],10),c[2]||"d"),c=i.exec(a);return s};return e=e?e.newDate():null,a=null==a?e:"string"==typeof a?s(a):"number"==typeof a?isNaN(a)||1/0===a||a===-1/0?e:o.today().add(a,"d"):o.newDate(a)}})}(jQuery);