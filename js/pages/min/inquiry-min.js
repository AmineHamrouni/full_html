$(document).ready(function(){var e=$("#vacationSteps");e.steps({enableCancelButton:!1,enableFinishButton:!1,transitionEffect:3,startIndex:0,saveState:!0,labels:{cancel:"إلغاء",current:"المرحلة الحالية:",pagination:"Pagination",finish:"إنهاء",next:"التالي",previous:"السابق",loading:"تحميل ..."},onStepChanging:function(e,t,a){var r=$("#vacationType").val();return 0==r?!1:!0;var n=$("#vacationStart").val();alert($(n).val()?"11111":"0000")}});var t,a,r,n,i,l;t=$("#repType"),a=$("#repStartDate"),r=$("#repEndDate"),n=$("#repDuration"),i=$("#repCause"),l=$("#repEmployee"),$(".select2").select2({dir:"rtl"});var o={totalCredit:90,inProgressCredit:12,oldCredit:15,newCredit:0,restCredit:function(){return this.totalCredit-this.oldCredit-this.newCredit-this.inProgressCredit},sourceCredit:0},c=$("#vacationChart");c.sparkline([o.restCredit(),o.oldCredit,o.inProgressCredit],{type:"pie",height:"150px",sliceColors:["#23c6c8","#f8ac59","#1c84c6","#e8ecff","#ED5565"]});var d,s,p,u,v,m,y=$("#vacationStart"),C=$("#vacationEnd"),f=$("#vacationDuration"),g=$("#vacationType"),h=$("#lblAnnualCredit"),b=$("#lblRestCredit"),S=$("#lblProgressVacation"),P=$("#lblNewVacation");h.text(o.totalCredit),b.text(o.restCredit()),S.text(o.inProgressCredit),P.text(o.newCredit),g.change(function(){function e(e){var a=t(C,y);if(y.calendarsPicker("option","minDate",1),"vacationStart"==this.id){C.calendarsPicker("option","minDate",e[0]||null),C.val(""),f.val("");var r=5,n="d",i=y.add(r,n);console.log(i.val())}else y.calendarsPicker("option","maxDate",e[0]||null),f.val(a)}function t(e,t){var a=new Date(t.val()),r=new Date(e.val()),n=Math.abs(r.getTime()-a.getTime()),i=Math.ceil(n/864e5)+1;return i}1==g.val()&&(y.prop("disabled",!1),C.prop("disabled",!1),$("#vacationStart,#vacationEnd").calendarsPicker({onSelect:e,calendar:$.calendars.instance("ummalqura"),formatDate:"dd/mm/yyyy",isRTL:!0,commandsAsDateFormat:!0,prevText:"< M",todayText:"M y",nextText:"M >",localNumbers:!0}).noWeekends),2==g.val(),0==g.val()&&(y.prop("disabled",!0),C.prop("disabled",!0),v=0,u=0,p=0),a.text(y.val())});var D=document.querySelector(".typeSwitch"),x=new Switchery(D,{color:"rgb(27, 175, 153)",secondaryColor:"rgb(27, 175, 153)",jackColor:"#fcf45e",jackSecondaryColor:"#c8ff77",size:"small"});$("#printBtn").click(function(){$("#printReport").print({globalStyles:!0,mediaPrint:!1,stylesheet:null,noPrintSelector:".no-print",iframe:!0,append:null,prepend:null,manuallyCopyFormValues:!0,deferred:$.Deferred(),timeout:750,title:null,doctype:"<!doctype html>"})}),$("#printInProgressBtn").click(function(){$("#printInProgress").print({globalStyles:!0,mediaPrint:!1,stylesheet:null,noPrintSelector:".no-print",iframe:!0,append:null,prepend:null,manuallyCopyFormValues:!0,deferred:$.Deferred(),timeout:750,title:null,doctype:"<!doctype html>"})})});